+++
title = '240922'
date = 2024-09-22T21:15:35+09:00
draft = true
+++

> tcp/ip illustrated

### IP 주소의 기본

IP주소는 편의성을 위해 주소 공간을 여러 영역으로 분할해 사용하게 되었다.
=> 본래 분할하지 않아도 각각이 하나의 객체를 가리킬 수 있지만, **편의성**을 위한 조치이다.

편의성은 단순 편리함을 의미한다기보다는, 좀 더 큰 범주에서의 편의성을 의미하기 때문에 필수적인 요소이다.

각각의 IPv4 주소 영역들은 점차 세분화되어 각각 하나의 네트워크 인터페이스를 식별하기 위해 사용된다.
=> 유니케스트

### Classful Addressing

A, B, C, D, E가 존재한다.

각각 MSB 기준으로 0, 10, 110, 1110, 1111 를 통해 식별한다.

각 기준으로 필드가 구분되는데, 네트워크 번호 필드와 네트워크 안의 호스트 필드로 구분하게 된다.

### Network mask

Net-id는 1로, Host-id는 0으로 마스킹된 주소값이다.

주어진 IP주소와 해당 네트워크의 Network mask값을 AND연산시켜, 해당 IP주소의 Net-id만 추출해서
네트워크 주소를 판별하는 방식이다.

ex) Class B의 Network mask: 255.255.0.0 =
11111111.11111111.00000000.00000000
ex) Class C의 Network mask: 255.255.255.0 =
11111111.11111111.11111111.00000000

---

클래스 기반의 주소 지정 방식은 인터넷의 규모가 커지면서 문제점이 드러났다.

클래스 A, B 방식의 경우 너무 많은 호스트 번호를 낭비하게 되었고,
클래스 C 방식의 경우 많은 새로운 사이트에 충분한 호스트 번호를 제공하지 못할 가능성이 있었다.
=> 결국 Net-id 의 문제라기보다는(아무래도 클래스로 나뉘어서 먼저 문제가 대두될 것 같지 않았음) Host-id 쪽 문제인 듯하다.

### Subnet Addressing

서브넷은 IP네트워크의 논리적인 분할이다.

기존 클래스 기반 어드레싱의 경우,
B클래스는 65534개의 호스트를 수용 가능하고,
C클래스는 254개의 호스트를 수용 가능하다.

이러한 기준으로 보았을 때,
20000 개 정도의 호스트 수용이 필요한 경우 (애매한 경우)가 존재한다.

서브넷은 이러한 단점 보완을 위하여 등장하였다.

### Subnet Mask

서브넷 마스크는 IP주소가 어디부까지 네트워크 주소이고 어디까지 호스트 주소인지 명시적으로 나타내줄 수 있도록 고안되었다.

서브넷 마스크는 IP주소 뒤에 `/24` 와 같은 형태로 나타낸다.

이 주소의 상위 24비트가 네트워크 주소라는 뜻이다.

이러한 방식을 통해 우리는 기존의 클래스 기반 어드레싱의 단점을 보완하고
더욱 세분화된 호스트 주소 수 조정이 가능하게 되었다.

즉, `/24` 표기와 `255.255.255.0`은 같은 서브넷 마스크를 나타낸다.

> 클래스에 구애받지 않고 네트워크 부분을 유동적으로 설정하는 것을 CIDR(Classless InterDomain Routing)이라고 한다.

이러한 경우, 브로드캐스팅 시에도 불필요한 호스트 요청을 줄일 수 있어
성능 저하를 막을 수 있다.

참고: [[네트워크] 4-4. IP Addressing, subnet](https://velog.io/@dltmdrl1244/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-4-4.-IP-Addressing)