+++
title = '241029'
date = 2024-10-28T11:36:52+09:00
draft = false
+++

최근 일본 결제 모듈을 연동하면서,
KG이니시스 측의 개발계에 접근할 일이 생겼다.

난 단순히 서버 아웃바운드 ip만 등록하면 될 듯 하여 등록했는데,
여전히 접속 자체가 안되는 이슈가 발생했다(connection time out).

이후 client ip를 등록해달라는 요청이 와서 살펴봤는데,
이니시스 측에서 이야기하는 client ip의 경우는 나의 실제 맥북 주소를 의미하는 것이었다..

으잉,,근데 요청을 보내는 주체가 서버인데, 서버에서 `X-forwarded-for` 헤더를 별도로 설정해주거나 하지 않는 이상 결제 모듈 서버가 클라이언트 측의 요청 정보를 확인할 수 있나..?

방화벽은 뭐 요청 원본을 알 수 있는 절대무적돋보기라도 되나...그러면 서버에서 중간에 ip맘대로 설정해서 보내줘도 무방한건 아닌지...등등 궁금한 점이 많았다.

근데 내가 만들어둔 애플리케이션이 이니시스 당사 측에서 구동 시에 잘 돌아간다는 것을 보고,,,
우선은 ip등록을 요청했다.

왜..되는건지는 일단 결제 연동 끝나면,,,
